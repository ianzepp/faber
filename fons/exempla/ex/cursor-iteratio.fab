
# Iterating over generator function returns with ex...pro
#
# This demonstrates that @ cursor functions produce iterable results
# that can be consumed with ex...pro loops

# Multi-value sync function that yields values via cede
@ cursor
functio rangeSync(numerus n) -> numerus {
    ex 0..n fixum i {
        cede i
    }
}

# Multi-value async function that yields values via cede
@ futura
@ cursor
functio rangeAsync(numerus n) -> numerus {
    ex 0..n fixum i {
        cede i
    }
}

incipit {
    # Iterate over sync generator function results
    scribe "Sync cursor iteration:"
    ex rangeSync(3) fixum num {
        scribe "  num: {num}"
    }

    # Collect all results from generator function
    varia syncResults = []
    ex rangeSync(5) fixum num {
        syncResults.appende(num * 2)
    }
    scribe "Sync collected:"
    scribe syncResults

    # Note: Async iteration would require async context
    # ex rangeAsync(3) fiunt num {
    #     scribe num
    # }
}
